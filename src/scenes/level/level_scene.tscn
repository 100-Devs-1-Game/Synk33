[gd_scene load_steps=20 format=3 uid="uid://dkluvwvfg2iyk"]

[ext_resource type="PackedScene" uid="uid://cbpbta52owj4a" path="res://assets/models/rails/rail_02_better_size.tscn" id="1_gagx4"]
[ext_resource type="PackedScene" uid="uid://diqccqrvjnp2d" path="res://assets/models/rails/rail_02_better_size_blue.tscn" id="2_nbd8l"]
[ext_resource type="PackedScene" uid="uid://b6b5i7y5wwrq1" path="res://assets/models/rails/rail_02_better_size_orange.tscn" id="3_hwkc4"]
[ext_resource type="PackedScene" uid="uid://db0oq6el5wm2v" path="res://assets/models/buttons/fret_button/fret_button_purple.tscn" id="4_g7d3g"]
[ext_resource type="PackedScene" uid="uid://qmt2eoy0f00s" path="res://assets/models/buttons/note_button/note_button_black.tscn" id="5_y1xxd"]
[ext_resource type="PackedScene" uid="uid://dpyixev5hxkpu" path="res://assets/models/buttons/fret_button/fret_button_blue.tscn" id="6_hialq"]
[ext_resource type="PackedScene" uid="uid://khpu4o08b3bd" path="res://assets/models/buttons/fret_button/fret_button_orange.tscn" id="7_pky24"]
[ext_resource type="AudioStream" uid="uid://bp3b2i603qdv3" path="res://assets/editor/hit_note_01.wav" id="9_mvjn5"]
[ext_resource type="Texture2D" uid="uid://cox11lejsp05f" path="res://assets/backgrounds/background_04_done.png" id="9_ytrdw"]
[ext_resource type="AudioStream" uid="uid://boxotbbbr6bgy" path="res://assets/editor/hold_note_01.wav" id="10_18uvy"]
[ext_resource type="Script" uid="uid://d2i6u8ixu12r2" path="res://core/GameManager.cs" id="10_mvjn5"]
[ext_resource type="Script" uid="uid://dbbkpkhl7jysd" path="res://core/Conductor.cs" id="11_18uvy"]
[ext_resource type="Resource" uid="uid://b4dh0cpqem4u3" path="res://assets/charts/KLIPNITY/kyphian_alyraeus_normal.tres" id="12_ppdpw"]
[ext_resource type="Script" uid="uid://cn66yvsvfpaxu" path="res://core/InputManager.cs" id="13_78aa7"]
[ext_resource type="Script" uid="uid://cvtcbn8yijcak" path="res://core/JudgementManager.cs" id="14_g6p6a"]
[ext_resource type="PackedScene" uid="uid://b64qfdctfmjg3" path="res://spawner/spawner3d.tscn" id="15_ppdpw"]
[ext_resource type="Script" uid="uid://dh0e0xamdv8xm" path="res://autoloads/debug/Debug.gd" id="17_f541d"]
[ext_resource type="PackedScene" uid="uid://cginamruiifir" path="res://assets/models/speaker/speaker.tscn" id="18_mvjn5"]

[sub_resource type="Environment" id="Environment_wjff2"]
background_mode = 1
glow_enabled = true
glow_normalized = true
glow_blend_mode = 4
fog_sky_affect = 0.0

[node name="Synk33" type="Node3D"]

[node name="Gameplay" type="Node" parent="."]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Gameplay"]

[node name="GameManager" type="Node" parent="Gameplay" node_paths=PackedStringArray("Conductor", "InputManager", "JudgementManager", "Spawner")]
script = ExtResource("10_mvjn5")
Conductor = NodePath("../Conductor")
InputManager = NodePath("../InputManager")
JudgementManager = NodePath("../JudgementManager")
Spawner = NodePath("../Spawner")

[node name="Conductor" type="Node" parent="Gameplay" node_paths=PackedStringArray("Player")]
script = ExtResource("11_18uvy")
Chart = ExtResource("12_ppdpw")
Player = NodePath("../AudioStreamPlayer")
Bpm = 130.0

[node name="InputManager" type="Node" parent="Gameplay"]
script = ExtResource("13_78aa7")

[node name="JudgementManager" type="Node" parent="Gameplay" node_paths=PackedStringArray("Conductor", "InputManager")]
script = ExtResource("14_g6p6a")
Conductor = NodePath("../Conductor")
InputManager = NodePath("../InputManager")

[node name="Spawner" parent="Gameplay" node_paths=PackedStringArray("JudgementManager") instance=ExtResource("15_ppdpw")]
ScrollSpeed = 6.0
JudgementLine = NodePath("../JudgementDebug")
Conductor = NodePath("../Conductor")
JudgementManager = NodePath("../JudgementManager")

[node name="JudgementDebug" type="Marker3D" parent="Gameplay"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)
gizmo_extents = 250.0

[node name="Debug" type="Control" parent="Gameplay"]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("17_f541d")

[node name="Time" type="Label" parent="Gameplay/Debug"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0

[node name="HoldPlayers" type="Label" parent="Gameplay/Debug"]
layout_mode = 0
offset_left = 200.0
offset_right = 400.0
offset_bottom = 100.0

[node name="note_spawn" type="Marker3D" parent="Gameplay"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -100)

[node name="HitNoteSfx" type="AudioStreamPlayer" parent="Gameplay"]
unique_name_in_owner = true
stream = ExtResource("9_mvjn5")
max_polyphony = 8

[node name="HoldNoteSfx" type="AudioStreamPlayer" parent="Gameplay"]
unique_name_in_owner = true
stream = ExtResource("10_18uvy")
max_polyphony = 6

[node name="Camera & Lights" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.4336958, 5.1822586)

[node name="Camera3D" type="Camera3D" parent="Camera & Lights"]
transform = Transform3D(1, 0, 0, 0, 0.9396926, 0.34202012, 0, -0.34202012, 0.9396926, 0, 2, -1)
keep_aspect = 0
fov = 70.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="Camera & Lights"]
environment = SubResource("Environment_wjff2")

[node name="rails" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="rail_02_better_size_purple" parent="rails" instance=ExtResource("1_gagx4")]
transform = Transform3D(0.45, 0, 0, 0, 0.45000002, 0, 0, 0, 0.9030582, -1, 0, -15)

[node name="rail_02_better_size_blue" parent="rails" instance=ExtResource("2_nbd8l")]
transform = Transform3D(0.45, 0, 0, 0, 0.45000002, 0, 0, 0, 0.9030582, 0, 0, -15)

[node name="rail_02_better_size_orange" parent="rails" instance=ExtResource("3_hwkc4")]
transform = Transform3D(0.45, 0, 0, 0, 0.45000002, 0, 0, 0, 0.9030582, 1, 0, -15)

[node name="fret_buttons" type="Node3D" parent="rails"]
transform = Transform3D(1, 0, 0, 0, 0.9961947, -0.08715574, 0, 0.08715574, 0.9961947, 0, 1, -1)

[node name="fret_button_purple" parent="rails/fret_buttons" instance=ExtResource("4_g7d3g")]
transform = Transform3D(0.89, 0, 0, 0, 0.89, 0, 0, 0, 0.89, -1, 0, 0)

[node name="note_button_black" parent="rails/fret_buttons/fret_button_purple" instance=ExtResource("5_y1xxd")]
transform = Transform3D(1.125, 0, 0, 0, 0.258, -8.952247e-09, 0, 1.8626448e-09, 1.24, 0.005, -0.091, -0.035)

[node name="fret_button_blue" parent="rails/fret_buttons" instance=ExtResource("6_hialq")]
transform = Transform3D(0.89, 0, 0, 0, 0.89, 0, 0, 0, 0.89, 0, 0, 0)

[node name="note_button_black2" parent="rails/fret_buttons/fret_button_blue" instance=ExtResource("5_y1xxd")]
transform = Transform3D(1.125, 0, 0, 0, 0.258, -1.790449e-08, 0, 3.725289e-09, 1.24, 0.002, -0.091, -0.035)

[node name="fret_button_orange" parent="rails/fret_buttons" instance=ExtResource("7_pky24")]
transform = Transform3D(0.89, 0, 0, 0, 0.89, 0, 0, 0, 0.89, 1, 0, 0)

[node name="note_button_black3" parent="rails/fret_buttons/fret_button_orange" instance=ExtResource("5_y1xxd")]
transform = Transform3D(1.125, 0, 0, 0, 0.258, -1.790449e-08, 0, 3.725289e-09, 1.24, -0.016, -0.091, -0.035)

[node name="background_test" type="Sprite3D" parent="."]
transform = Transform3D(10.199999, 0, 0, 0, 10.199708, 0.07708368, 0, -0.07708368, 10.199708, 0, -13.017187, -138.63153)
texture = ExtResource("9_ytrdw")

[node name="speaker_base" parent="." instance=ExtResource("18_mvjn5")]
transform = Transform3D(0.08660254, 0, -0.05, 0, 0.1, 0, 0.05, 0, 0.08660254, 3, -2.5, -1)
